# RenderMe360 Data Processing Pipeline

## Current Documentation

This repository has two main README files:
- **README_21ID_EXTRACTION.md** - Complete guide for 21ID dataset extraction
- **README_EXTRACTION_SCRIPTS.md** - Detailed development history and script evolution

TODO: These will be unified into a single comprehensive README.

## Quick Start

```bash
python extract_subject_FULL_both.py --config config_21id.yaml
```

For detailed instructions, see README_21ID_EXTRACTION.md

## What Each File is For

### Main Extraction Scripts
- **extract_subject_FULL_both.py** ⭐ - Main extraction script with Google Drive streaming support. Handles any subject ID, configurable via YAML
- **extract_0026_FULL_both.py** [LEGACY] - Hardcoded for subject 0026 only. Use for quick local testing with pre-downloaded files
- **extract_0026_FULL.py** [DEPRECATED] - Old version missing mask extraction. Do not use

### Configuration Files
- **config_21id.yaml** - Main configuration file for extraction (subjects, performances, cameras, modalities)
- **config_21id_reduced.yaml** [TO CREATE] - Configuration with reduced camera subset for storage optimization

### Validation & Testing Tools

#### validate_extraction.py
**Purpose**: Compares OLD extraction method vs NEW extraction method to ensure identical output
- Compares: `/FULL_EXTRACTION_BOTH/` (old) vs `/test_download/subjects/` (new)
- Validates: File counts, sizes, directory structure, metadata
- Use case: After switching to new extraction script, verify nothing is lost
```bash
python validate_extraction.py
# Output: ✓ Images: 151,740 files match
#         ✓ Total size: 101.69 GB matches
#         ✓ VALIDATION PASSED
```

#### test_extraction_21id.py
**Purpose**: Pre-flight check before first extraction
- Checks: Python dependencies, rclone configuration, Google Drive access
- Validates: Config file settings, folder paths
- Use case: Run once before starting extraction pipeline
```bash
python test_extraction_21id.py
# Output: ✓ Config file found
#         ✓ rclone installed
#         ✓ All dependencies present
```

#### inspect_extraction.py
**Purpose**: Creates visual HTML overview of any extraction
- Generates: HTML file with sample images and statistics
- Shows: Available cameras, frame counts, performance info
- Use case: Quick visual check of what was extracted
```bash
python inspect_extraction.py
# Creates: extraction_overview.html
# View in browser to see grid of sample frames from all cameras
```

### Core Library
- **renderme_360_reader.py** - Core SMC file reader library. Used by all extraction scripts

### Documentation
- **README.md** - This file, overview and file guide
- **README_21ID_EXTRACTION.md** - Detailed extraction guide, monitoring, troubleshooting
- **README_EXTRACTION_SCRIPTS.md** - Historical development, old methods documentation
- **VALIDATION_REPORT.md** - Results from extraction validation
- **task_context_20250912.md** - Original project requirements
- **camera_analysis_20250915.md** - Camera selection analysis and recommendations

### Progress Tracking
- **MANIFEST_21ID.csv** - Tracks extraction progress (generated automatically)
- **validation_results.json** - Detailed validation results (generated by validate_extraction.py)
- **Commit_*.md** - Daily progress and commit messages

### Generated Folders
- **subjects/** - Extracted data output directory
- **logs/** - Extraction logs
- **temp_smc/** - Temporary download directory (cleaned after extraction)
